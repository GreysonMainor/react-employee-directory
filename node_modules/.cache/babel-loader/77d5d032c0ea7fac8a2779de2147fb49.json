{"ast":null,"code":"import _objectSpread from\"C:/Users/gbmai/BootCampThings/HW/week-19/react-employee-directory/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/gbmai/BootCampThings/HW/week-19/react-employee-directory/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import DataTable from\"../DataTable\";import Nav from\"../Nav\";import API from\"../../utils/API\";import\"./DataArea.css\";import DataAreaContext from\"../../utils/DataAreaContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DataArea=function DataArea(){var _useState=useState({users:[],order:\"ascend\",filteredUsers:[],headings:[{name:\"Image\",width:\"10%\"},{name:\"Name\",width:\"10%\"},{name:\"Phone\",width:\"20%\"},{name:\"Email\",width:\"20%\"},{name:\"DOB\",width:\"10%\"}]}),_useState2=_slicedToArray(_useState,2),developerState=_useState2[0],setDeveloperState=_useState2[1];var handleSort=function handleSort(heading){if(developerState.order===\"descend\"){setDeveloperState({order:\"ascend\"});}else{setDeveloperState({order:\"descend\"});}var compareFnc=function compareFnc(a,b){if(developerState.order===\"ascend\"){if(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}else if(heading===\"name\"){return a[heading].first.localeCompare(b[heading].first);}else{return b[heading]-a[heading];}}else{if(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}else if(heading===\"name\"){return b[heading].first.localeCompare(a[heading].first);}else{return b[heading]-a[heading];}}};var sortedUsers=developerState.filteredUsers.sort(compareFnc);setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{filteredUsers:sortedUsers}));};var handleSearchChange=function handleSearchChange(event){var filter=event.target.value;var filteredList=developerState.users.filter(function(item){var values=item.name.first.toLowerCase();return values.indexOf(filter.toLowerCase())!==-1;});setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{filteredUsers:filteredList}));};useEffect(function(){API.getUsers().then(function(results){setDeveloperState(_objectSpread(_objectSpread({},developerState),{},{users:results.data.results,filteredUsers:results.data.results}));});},[]);return/*#__PURE__*/_jsxs(DataAreaContext.Provider,{value:{developerState:developerState,handleSearchChange:handleSearchChange,handleSort:handleSort},children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"data-area\",children:developerState.filteredUsers.length>0?/*#__PURE__*/_jsx(DataTable,{}):/*#__PURE__*/_jsx(\"div\",{})})]});};export default DataArea;","map":{"version":3,"sources":["C:/Users/gbmai/BootCampThings/HW/week-19/react-employee-directory/src/components/DataArea/index.js"],"names":["React","useState","useEffect","DataTable","Nav","API","DataAreaContext","DataArea","users","order","filteredUsers","headings","name","width","developerState","setDeveloperState","handleSort","heading","compareFnc","a","b","undefined","first","localeCompare","sortedUsers","sort","handleSearchChange","event","filter","target","value","filteredList","item","values","toLowerCase","indexOf","getUsers","then","results","data","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport DataTable from \"../DataTable\";\r\nimport Nav from \"../Nav\";\r\nimport API from \"../../utils/API\";\r\nimport \"./DataArea.css\";\r\nimport DataAreaContext from \"../../utils/DataAreaContext\"\r\n\r\nconst DataArea = () => {\r\n    const [developerState, setDeveloperState] = useState({\r\n        users: [],\r\n        order: \"ascend\",\r\n        filteredUsers: [],\r\n        headings: [\r\n            { name: \"Image\", width: \"10%\", },\r\n            { name: \"Name\", width: \"10%\", },\r\n            { name: \"Phone\", width: \"20%\", },\r\n            { name: \"Email\", width: \"20%\", },\r\n            { name: \"DOB\", width: \"10%\", }\r\n        ]\r\n    });\r\n\r\n    const handleSort = heading => {\r\n        if (developerState.order === \"descend\") {\r\n            setDeveloperState({\r\n                order: \"ascend\"\r\n            })\r\n        } else {\r\n            setDeveloperState({\r\n                order: \"descend\"\r\n            })\r\n        }\r\n\r\n        const compareFnc = (a, b) => {\r\n            if (developerState.order === \"ascend\") {\r\n                if (a[heading] === undefined) {\r\n                    return 1;\r\n                } else if (b[heading] === undefined) {\r\n                    return -1;\r\n                } else if (heading === \"name\") {\r\n                    return a[heading].first.localeCompare(b[heading].first);\r\n                } else {\r\n                    return b[heading] - a[heading];\r\n                }\r\n            } else {\r\n                if (a[heading] === undefined) {\r\n                    return 1;\r\n                } else if (b[heading] === undefined) {\r\n                    return -1;\r\n                } else if (heading === \"name\") {\r\n                    return b[heading].first.localeCompare(a[heading].first);\r\n                } else {\r\n                    return b[heading] - a[heading];\r\n                }\r\n            }\r\n        }\r\n        const sortedUsers = developerState.filteredUsers.sort(compareFnc);\r\n\r\n        setDeveloperState({\r\n            ...developerState,\r\n            filteredUsers: sortedUsers\r\n        });\r\n\r\n    };\r\n\r\n    const handleSearchChange = event => {\r\n        const filter = event.target.value;\r\n        const filteredList = developerState.users.filter(item => {\r\n            let values = item.name.first.toLowerCase();\r\n            return values.indexOf(filter.toLowerCase()) !== -1;\r\n        });\r\n\r\n        setDeveloperState({\r\n            ...developerState,\r\n            filteredUsers: filteredList\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        API.getUsers().then(results => {\r\n            setDeveloperState({\r\n                ...developerState,\r\n                users: results.data.results,\r\n                filteredUsers: results.data.results\r\n            });\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <DataAreaContext.Provider\r\n            value={{ developerState, handleSearchChange, handleSort }}\r\n        >\r\n            <Nav />\r\n            <div className=\"data-area\">\r\n                {developerState.filteredUsers.length > 0\r\n                    ? <DataTable />\r\n                    : <div></div>\r\n                }\r\n            </div>\r\n        </DataAreaContext.Provider>\r\n    );\r\n}\r\n\r\nexport default DataArea;"]},"metadata":{},"sourceType":"module"}
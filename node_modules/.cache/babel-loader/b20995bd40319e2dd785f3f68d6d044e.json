{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gbmai\\\\BootCampThings\\\\HW\\\\week-19\\\\react-employee-directory\\\\src\\\\components\\\\DataArea\\\\index.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable array-callback-return */\nimport React from \"react\";\nimport DataTable from \"../DataTable\";\nimport Nav from \"../Nav\";\nimport API from \"../../utils/API\";\nimport \"./DataArea.css\";\nimport DataAreaContext from \"../../utils/DataAreaContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DataArea = () => {\n  _s();\n\n  const [developerState, setDeveloperState] = React.useState({\n    users: [],\n    order: \"descend\",\n    filteredUsers: [],\n    headings: [{\n      name: \"Image\",\n      width: \"10%\",\n      order: \"descend\"\n    }, {\n      name: \"name\",\n      width: \"10%\",\n      order: \"descend\"\n    }, {\n      name: \"phone\",\n      width: \"20%\",\n      order: \"descend\"\n    }, {\n      name: \"email\",\n      width: \"20%\",\n      order: \"descend\"\n    }, {\n      name: \"dob\",\n      width: \"10%\",\n      order: \"descend\"\n    }]\n  });\n\n  const handleSort = heading => {\n    let currentOrder = developerState.headings.filter(elem => elem.name === heading).map(elem => elem.order).toString();\n\n    if (currentOrder === \"descend\") {\n      currentOrder = \"ascend\";\n    } else {\n      currentOrder = \"descend\";\n    }\n\n    const compareFnc = (a, b) => {\n      if (currentOrder === \"ascend\") {\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        } else if (heading === \"name\") {\n          return a[heading].first.localeCompare(b[heading].first);\n        } else if (heading === \"dob\") {\n          return a[heading].age - b[heading].age;\n        } else {\n          return a[heading].localeCompare(b[heading]);\n        }\n      } else {\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        } else if (heading === \"name\") {\n          return b[heading].first.localeCompare(a[heading].first);\n        } else if (heading === \"dob\") {\n          return b[heading].age - a[heading].age;\n        } else {\n          return b[heading].localeCompare(a[heading]);\n        }\n      }\n    };\n\n    const sortedUsers = developerState.filteredUsers.sort(compareFnc);\n    const updatedHeadings = developerState.headings.map(elem => {\n      elem.order = elem.name === heading ? currentOrder : elem.order;\n      return elem;\n    });\n    setDeveloperState({ ...developerState,\n      filteredUsers: sortedUsers,\n      headings: updatedHeadings\n    });\n  };\n\n  const handleSearchChange = event => {\n    const filter = event.target.value;\n    const filteredList = developerState.users.filter(item => {\n      let values = item.name.first.toLowerCase() + \" \" + item.name.last.toLowerCase();\n      console.log(filter, values);\n\n      if (values.indexOf(filter.toLowerCase()) !== -1) {\n        return item;\n      }\n\n      ;\n    });\n    setDeveloperState({ ...developerState,\n      filteredUsers: filteredList\n    });\n  };\n\n  React.useEffect(() => {\n    API.getUsers().then(results => {\n      console.log(results.data.results);\n      setDeveloperState({ ...developerState,\n        users: results.data.results,\n        filteredUsers: results.data.results\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DataAreaContext.Provider, {\n    value: {\n      developerState,\n      handleSearchChange,\n      handleSort\n    },\n    children: [\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }, this), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-area\",\n      children: [\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", developerState.filteredUsers.length > 0 ? /*#__PURE__*/_jsxDEV(DataTable, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 56\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 72\n      }, this), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }, this), \"\\xA0\\xA0\\xA0\\xA0\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DataArea, \"jHf2lNSQgiE2cUxB1ifNtm0w4z4=\");\n\n_c = DataArea;\nexport default DataArea;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataArea\");","map":{"version":3,"sources":["C:/Users/gbmai/BootCampThings/HW/week-19/react-employee-directory/src/components/DataArea/index.js"],"names":["React","DataTable","Nav","API","DataAreaContext","DataArea","developerState","setDeveloperState","useState","users","order","filteredUsers","headings","name","width","handleSort","heading","currentOrder","filter","elem","map","toString","compareFnc","a","b","undefined","first","localeCompare","age","sortedUsers","sort","updatedHeadings","handleSearchChange","event","target","value","filteredList","item","values","toLowerCase","last","console","log","indexOf","useEffect","getUsers","then","results","data","length"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAO,gBAAP;AACA,OAAOC,eAAP,MAA4B,6BAA5B;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACjB,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCP,KAAK,CAACQ,QAAN,CAAe;AACzDC,IAAAA,KAAK,EAAE,EADkD;AAEzDC,IAAAA,KAAK,EAAE,SAFkD;AAGzDC,IAAAA,aAAa,EAAE,EAH0C;AAIzDC,IAAAA,QAAQ,EAAE,CACR;AAAEC,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAE,KAAxB;AAA+BJ,MAAAA,KAAK,EAAE;AAAtC,KADQ,EAER;AAAEG,MAAAA,IAAI,EAAE,MAAR;AAAgBC,MAAAA,KAAK,EAAE,KAAvB;AAA8BJ,MAAAA,KAAK,EAAE;AAArC,KAFQ,EAGR;AAAEG,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAE,KAAxB;AAA+BJ,MAAAA,KAAK,EAAE;AAAtC,KAHQ,EAIR;AAAEG,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,KAAK,EAAE,KAAxB;AAA+BJ,MAAAA,KAAK,EAAE;AAAtC,KAJQ,EAKR;AAAEG,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,KAAK,EAAE,KAAtB;AAA6BJ,MAAAA,KAAK,EAAE;AAApC,KALQ;AAJ+C,GAAf,CAA5C;;AAYA,QAAMK,UAAU,GAAGC,OAAO,IAAI;AAC5B,QAAIC,YAAY,GAAGX,cAAc,CAACM,QAAf,CAChBM,MADgB,CACTC,IAAI,IAAIA,IAAI,CAACN,IAAL,KAAcG,OADb,EAEhBI,GAFgB,CAEZD,IAAI,IAAIA,IAAI,CAACT,KAFD,EAGhBW,QAHgB,EAAnB;;AAIA,QAAIJ,YAAY,KAAK,SAArB,EAAgC;AAC9BA,MAAAA,YAAY,GAAG,QAAf;AACD,KAFD,MAEO;AACLA,MAAAA,YAAY,GAAG,SAAf;AACD;;AAED,UAAMK,UAAU,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC3B,UAAIP,YAAY,KAAK,QAArB,EAA+B;AAC7B,YAAIM,CAAC,CAACP,OAAD,CAAD,KAAeS,SAAnB,EAA8B;AAC5B,iBAAO,CAAP;AACD,SAFD,MAEO,IAAID,CAAC,CAACR,OAAD,CAAD,KAAeS,SAAnB,EAA8B;AACnC,iBAAO,CAAC,CAAR;AACD,SAFM,MAGF,IAAIT,OAAO,KAAK,MAAhB,EAAwB;AAC3B,iBAAOO,CAAC,CAACP,OAAD,CAAD,CAAWU,KAAX,CAAiBC,aAAjB,CAA+BH,CAAC,CAACR,OAAD,CAAD,CAAWU,KAA1C,CAAP;AACD,SAFI,MAEE,IAAIV,OAAO,KAAK,KAAhB,EAAuB;AAC5B,iBAAOO,CAAC,CAACP,OAAD,CAAD,CAAWY,GAAX,GAAiBJ,CAAC,CAACR,OAAD,CAAD,CAAWY,GAAnC;AACD,SAFM,MAEA;AACL,iBAAOL,CAAC,CAACP,OAAD,CAAD,CAAWW,aAAX,CAAyBH,CAAC,CAACR,OAAD,CAA1B,CAAP;AACD;AACF,OAbD,MAaO;AACL,YAAIO,CAAC,CAACP,OAAD,CAAD,KAAeS,SAAnB,EAA8B;AAC5B,iBAAO,CAAP;AACD,SAFD,MAEO,IAAID,CAAC,CAACR,OAAD,CAAD,KAAeS,SAAnB,EAA8B;AACnC,iBAAO,CAAC,CAAR;AACD,SAFM,MAGF,IAAIT,OAAO,KAAK,MAAhB,EAAwB;AAC3B,iBAAOQ,CAAC,CAACR,OAAD,CAAD,CAAWU,KAAX,CAAiBC,aAAjB,CAA+BJ,CAAC,CAACP,OAAD,CAAD,CAAWU,KAA1C,CAAP;AACD,SAFI,MAEC,IAAIV,OAAO,KAAK,KAAhB,EAAuB;AAC3B,iBAAOQ,CAAC,CAACR,OAAD,CAAD,CAAWY,GAAX,GAAiBL,CAAC,CAACP,OAAD,CAAD,CAAWY,GAAnC;AACD,SAFK,MAEE;AACN,iBAAOJ,CAAC,CAACR,OAAD,CAAD,CAAWW,aAAX,CAAyBJ,CAAC,CAACP,OAAD,CAA1B,CAAP;AACD;AACF;AACF,KA5BD;;AA6BA,UAAMa,WAAW,GAAGvB,cAAc,CAACK,aAAf,CAA6BmB,IAA7B,CAAkCR,UAAlC,CAApB;AACA,UAAMS,eAAe,GAAGzB,cAAc,CAACM,QAAf,CAAwBQ,GAAxB,CAA4BD,IAAI,IAAI;AAC1DA,MAAAA,IAAI,CAACT,KAAL,GAAaS,IAAI,CAACN,IAAL,KAAcG,OAAd,GAAwBC,YAAxB,GAAuCE,IAAI,CAACT,KAAzD;AACA,aAAOS,IAAP;AACD,KAHuB,CAAxB;AAKAZ,IAAAA,iBAAiB,CAAC,EAChB,GAAGD,cADa;AAEhBK,MAAAA,aAAa,EAAEkB,WAFC;AAGhBjB,MAAAA,QAAQ,EAAEmB;AAHM,KAAD,CAAjB;AAKD,GAnDD;;AAqDA,QAAMC,kBAAkB,GAAGC,KAAK,IAAI;AAClC,UAAMf,MAAM,GAAGe,KAAK,CAACC,MAAN,CAAaC,KAA5B;AACA,UAAMC,YAAY,GAAG9B,cAAc,CAACG,KAAf,CAAqBS,MAArB,CAA4BmB,IAAI,IAAI;AACvD,UAAIC,MAAM,GAAGD,IAAI,CAACxB,IAAL,CAAUa,KAAV,CAAgBa,WAAhB,KAAgC,GAAhC,GAAsCF,IAAI,CAACxB,IAAL,CAAU2B,IAAV,CAAeD,WAAf,EAAnD;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYxB,MAAZ,EAAoBoB,MAApB;;AACF,UAAGA,MAAM,CAACK,OAAP,CAAezB,MAAM,CAACqB,WAAP,EAAf,MAAyC,CAAC,CAA7C,EAA+C;AAC7C,eAAOF,IAAP;AACD;;AAAA;AACA,KANoB,CAArB;AAQA9B,IAAAA,iBAAiB,CAAC,EAAE,GAAGD,cAAL;AAAqBK,MAAAA,aAAa,EAAEyB;AAApC,KAAD,CAAjB;AACD,GAXD;;AAaApC,EAAAA,KAAK,CAAC4C,SAAN,CAAgB,MAAM;AACpBzC,IAAAA,GAAG,CAAC0C,QAAJ,GAAeC,IAAf,CAAoBC,OAAO,IAAI;AAC7BN,MAAAA,OAAO,CAACC,GAAR,CAAYK,OAAO,CAACC,IAAR,CAAaD,OAAzB;AACAxC,MAAAA,iBAAiB,CAAC,EAChB,GAAGD,cADa;AAEhBG,QAAAA,KAAK,EAAEsC,OAAO,CAACC,IAAR,CAAaD,OAFJ;AAGhBpC,QAAAA,aAAa,EAAEoC,OAAO,CAACC,IAAR,CAAaD;AAHZ,OAAD,CAAjB;AAKD,KAPD,EADoB,CASxB;AACG,GAVD,EAUG,EAVH;AAYA,sBACE,QAAC,eAAD,CAAiB,QAAjB;AACE,IAAA,KAAK,EAAE;AAAEzC,MAAAA,cAAF;AAAkB0B,MAAAA,kBAAlB;AAAsCjB,MAAAA;AAAtC,KADT;AAAA,wDAGE,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,YAHF,2CAIE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,qDACGT,cAAc,CAACK,aAAf,CAA6BsC,MAA7B,GAAsC,CAAtC,gBAA0C,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,cAA1C,gBAA0D;AAAA;AAAA;AAAA;AAAA,cAD7D;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,CArGL;;GAAM5C,Q;;KAAAA,Q;AAuGF,eAAeA,QAAf","sourcesContent":["/* eslint-disable array-callback-return */\r\nimport React from \"react\";\r\nimport DataTable from \"../DataTable\";\r\nimport Nav from \"../Nav\";\r\nimport API from \"../../utils/API\";\r\nimport \"./DataArea.css\"\r\nimport DataAreaContext from \"../../utils/DataAreaContext\"\r\n\r\nconst DataArea = () => {\r\n      const [developerState, setDeveloperState] = React.useState({\r\n        users: [],\r\n        order: \"descend\",\r\n        filteredUsers: [],\r\n        headings: [\r\n          { name: \"Image\", width: \"10%\", order: \"descend\" },\r\n          { name: \"name\", width: \"10%\", order: \"descend\" },\r\n          { name: \"phone\", width: \"20%\", order: \"descend\" },\r\n          { name: \"email\", width: \"20%\", order: \"descend\" },\r\n          { name: \"dob\", width: \"10%\", order: \"descend\" }\r\n        ]\r\n      });\r\n      const handleSort = heading => {\r\n        let currentOrder = developerState.headings\r\n          .filter(elem => elem.name === heading)\r\n          .map(elem => elem.order)\r\n          .toString();\r\n        if (currentOrder === \"descend\") {\r\n          currentOrder = \"ascend\";\r\n        } else {\r\n          currentOrder = \"descend\";\r\n        }\r\n\r\n        const compareFnc = (a, b) => {\r\n          if (currentOrder === \"ascend\") {\r\n            if (a[heading] === undefined) {\r\n              return 1;\r\n            } else if (b[heading] === undefined) {\r\n              return -1;\r\n            }\r\n            else if (heading === \"name\") {\r\n              return a[heading].first.localeCompare(b[heading].first);\r\n            } else if (heading === \"dob\") {\r\n              return a[heading].age - b[heading].age;\r\n            } else {\r\n              return a[heading].localeCompare(b[heading]);\r\n            }\r\n          } else {\r\n            if (a[heading] === undefined) {\r\n              return 1;\r\n            } else if (b[heading] === undefined) {\r\n              return -1;\r\n            }\r\n            else if (heading === \"name\") {\r\n              return b[heading].first.localeCompare(a[heading].first);\r\n            }else if (heading === \"dob\") {\r\n              return b[heading].age - a[heading].age;\r\n            }  else {\r\n              return b[heading].localeCompare(a[heading]);\r\n            }\r\n          }\r\n        };\r\n        const sortedUsers = developerState.filteredUsers.sort(compareFnc);\r\n        const updatedHeadings = developerState.headings.map(elem => {\r\n          elem.order = elem.name === heading ? currentOrder : elem.order;\r\n          return elem;\r\n        });\r\n\r\n        setDeveloperState({\r\n          ...developerState,\r\n          filteredUsers: sortedUsers,\r\n          headings: updatedHeadings\r\n        });\r\n      };\r\n\r\n      const handleSearchChange = event => {\r\n        const filter = event.target.value;\r\n        const filteredList = developerState.users.filter(item => {\r\n          let values = item.name.first.toLowerCase() + \" \" + item.name.last.toLowerCase();\r\n          console.log(filter, values)\r\n        if(values.indexOf(filter.toLowerCase()) !== -1){\r\n          return item\r\n        };\r\n        });\r\n\r\n        setDeveloperState({ ...developerState, filteredUsers: filteredList });\r\n      };\r\n\r\n      React.useEffect(() => {\r\n        API.getUsers().then(results => {\r\n          console.log(results.data.results);\r\n          setDeveloperState({\r\n            ...developerState,\r\n            users: results.data.results,\r\n            filteredUsers: results.data.results\r\n          });\r\n        });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      }, []);\r\n\r\n      return (\r\n        <DataAreaContext.Provider\r\n          value={{ developerState, handleSearchChange, handleSort }}\r\n        >\r\n          <Nav />\r\n          <div className=\"data-area\">\r\n            {developerState.filteredUsers.length > 0 ? <DataTable /> : <div></div>}\r\n          </div>\r\n        </DataAreaContext.Provider>\r\n      );\r\n    };\r\n\r\n    export default DataArea;"]},"metadata":{},"sourceType":"module"}